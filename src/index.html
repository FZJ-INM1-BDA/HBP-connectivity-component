<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0">
  <title>HBP Connectivity Component</title>

  <script type="module" src="/build/connectivity-component.esm.js"></script>
  <script nomodule src="/build/connectivity-component.js"></script>

</head>
<body>

<!--<div style=" background-color: #424242; width: 800px; height: 800px; margin-left: 200px" class="d-flex flex-nowrap"> &lt;!&ndash;width: auto; overflow: scroll;&ndash;&gt;-->
<!--&lt;!&ndash;  <div style="width: 300px; height: 300px; background-color: red;"></div>&ndash;&gt;-->

<!--  <input type="range" min="1" max="10" value="5" id="myRange">-->
<!--&lt;!&ndash;  <div style="margin-left: 250px">&ndash;&gt;-->
<!--  <full-connectivity-grid-->
<!--    pixelsize="3"-->
<!--    theme="dark"-->
<!--    loadurl="https://siibra-api-latest.apps-dev.hbp.eu/v1_0/atlases/juelich%2Fiav%2Fatlas%2Fv1.0.0%2F1/parcellations/minds%2Fcore%2Fparcellationatlas%2Fv1.0.0%2F94c1125b-b87e-45e4-901c-00daee7f2579-290/features/ConnectivityMatrix/Average%20streamline%20counts%20from%20diffusion%20imaging%2C%201000BRAINS%20cohort"-->
<!--  >-->
<!--&lt;!&ndash;    loadurl="https://siibra-api-latest.apps-dev.hbp.eu/v1_0/atlases/juelich%2Fiav%2Fatlas%2Fv1.0.0%2F1/parcellations/minds%2Fcore%2Fparcellationatlas%2Fv1.0.0%2F94c1125b-b87e-45e4-901c-00daee7f2579-290/features/ConnectivityMatrix/Average%20streamline%20counts%20from%20diffusion%20imaging%2C%201000BRAINS%20cohort"&ndash;&gt;-->
<!--  </full-connectivity-grid>-->
<!--&lt;!&ndash;  </div>&ndash;&gt;-->
<!--</div>-->

<script>
  const fullGrid = document.querySelector('full-connectivity-grid')
  const slider = document.getElementById("myRange");

  slider.oninput = function() {
    fullGrid.pixelsize = slider.value;
  }
</script>

<div style="display:flex;">
<!--  <full-connectivity-grid-->
<!--    grid-width="800px"-->
<!--    grid-height="800px"-->
<!--    theme="dark"-->
<!--    loadurl="https://siibra-api-latest.apps-dev.hbp.eu/v1_0/atlases/juelich%2Fiav%2Fatlas%2Fv1.0.0%2F1/parcellations/minds%2Fcore%2Fparcellationatlas%2Fv1.0.0%2F94c1125b-b87e-45e4-901c-00daee7f2579-290/regions/Frontal-II%20(GapMap)%20right/features/ConnectivityProfile/e428cb6b-0110-4205-94ac-533ca5de6bb5"-->
<!--    only-export="true">-->
<!--  </full-connectivity-grid>-->

  <div>
    <button onclick="addConnections()">Change source</button>
  </div>
<!--&lt;!&ndash;  <div>&ndash;&gt;-->
<!--&lt;!&ndash;    <button onclick="downloadFullGrid()">Download full grid</button>&ndash;&gt;-->
<!--&lt;!&ndash;  </div>&ndash;&gt;-->

<!--  <div style="width: 50%">-->
<!--    loadurl="https://siibra-api-latest.apps-dev.hbp.eu/v1_0/atlases/juelich%2Fiav%2Fatlas%2Fv1.0.0%2F1/parcellations/minds%2Fcore%2Fparcellationatlas%2Fv1.0.0%2F94c1125b-b87e-45e4-901c-00daee7f2579-290/regions/Frontal-II%20(GapMap)%20right/features/ConnectivityProfile/e428cb6b-0110-4205-94ac-533ca5de6bb5"-->
<!--    connections='{"rea 1 (PostCG) left": 132,"Area 1 (PostCG) right": 4296,"Area 2 (PostCS) left": 75,"Area 2 (PostCS) right": 2309,"Area 3a (PostCG) left": 40,"Area 3a (PostCG) right": 1082,"Area 3b (PostCG) left": 116,"Area 3b (PostCG) right": 4506,"Area 4a (PreCG) left": 1962,"Area 4a (PreCG) right": 1526,"Area 4p (PreCG) left": 41,"Area 4p (PreCG) right": 652,"Area 5Ci (SPL) left": 7,"Area 5Ci (SPL) right: 1,Area 5L (SPL) left": 31,"Area 5L (SPL) right": 77,"rea 5M (SPL) left": 52,"Area Fo2 (OFC) left": 0}'-->
  <hbp-connectivity-matrix-row
    id = connectivityMatrixRow"
    style="height: 800px"
    region="Area STS2 (STS) - left hemisphere"
    theme="dark"
    show-description="false"
    show-export="true"
    show-source="false"
    show-title="false"
    custom-dataset-selector="true"
    show-toolbar="true"
    tools_showlog="true"
    tools_custom='[{"name": "Apply colors to viewer", "type": "checkbox", "checked": false}, {"name": "export csv", "type": "button"}, {"name": "testSlot", "type": "slot"}]'
    hide-export-view="true"
  >
    <div style="width: 100%; display:flex; justify-content: flex-end; margin-top: 10px;" slot="header">X</div>
  </hbp-connectivity-matrix-row>
<!--</div>-->

</body>
<script>


 const a = document.querySelector('hbp-connectivity-matrix-row')

//  a.addEventListener('connectivityDataReceived', event => {
//    console.log(event)
//  })
//  a.addEventListener('datasetDataReceived', event => {
//    console.log(event)
//  })
//  a.addEventListener('collapsedMenuChanged', event => {
//    // console.log(event)
//  })
//  a.addEventListener('customToolEvent', event => {
//    if (event.detail.name === 'export csv') {
//      a.downloadCSV()
//    }
//  })
//
//  const fullGrid = document.querySelector('full-connectivity-grid')
//
//  downloadFullGrid = () => {
//    fullGrid['downloadCSV']()
//  }
//

 addConnections = () => {
   a.connections = '{"rea 1 (PostCG) left": 132,"Area 1 (PostCG) right": 4296,"Area 2 (PostCS) left": 75,"Area 2 (PostCS) right": 2309,"Area 3a (PostCG) left": 40,"Area 3a (PostCG) right": 1082,"Area 3b (PostCG) left": 116,"Area 3b (PostCG) right": 4506,"Area 4a (PreCG) left": 1962,"Area 4a (PreCG) right": 1526,"Area 4p (PreCG) left": 41,"Area 4p (PreCG) right": 652,"Area 5Ci (SPL) left": 7,"Area 5Ci (SPL) right: 1,Area 5L (SPL) left": 31,"Area 5L (SPL) right": 77,"rea 5M (SPL) left": 52,"Area Fo2 (OFC) left": 0}'
 }
//  changeSource = () => {
//    const aSource = 'https://siibra-api-latest.apps-dev.hbp.eu/v1_0/atlases/juelich%2Fiav%2Fatlas%2Fv1.0.0%2F1/parcellations/minds%2Fcore%2Fparcellationatlas%2Fv1.0.0%2F94c1125b-b87e-45e4-901c-00daee7f2579/regions/Area%20hIP3%20(IPS)%20left/features/ConnectivityProfile/Averaged_SC_JuBrain_184Regions_eNKI_10M_count_MEAN'
//    const bSource = 'https://siibra-api-latest.apps-dev.hbp.eu/v1_0/atlases/juelich%2Fiav%2Fatlas%2Fv1.0.0%2F1/parcellations/minds%2Fcore%2Fparcellationatlas%2Fv1.0.0%2F94c1125b-b87e-45e4-901c-00daee7f2579/regions/Area%205L%20(SPL)%20left/features/ConnectivityProfile/Averaged_SC_JuBrain_184Regions_eNKI_10M_count_MEAN'
//    if (a.loadurl === aSource) {
//      a.loadurl = bSource
//    } else {
//      a.loadurl = aSource
//    }
//  }
</script>
</html>
